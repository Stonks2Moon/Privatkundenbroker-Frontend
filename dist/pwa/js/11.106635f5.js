(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"2ff9":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("q-page",[s.profile?e("div",{staticClass:"column q-pa-md"},[e("div",{staticClass:"row text-weight-bolder",staticStyle:{"font-size":"24px"}},[e("div",[s._v(s._s(s.$t("profile")))])]),e("div",{staticClass:"no-wrap q-pa-md column items-center"},[e("q-avatar",{attrs:{size:"120px"}},[e("img",{attrs:{src:s.getImageURL}})])],1),e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n        "+s._s(s.$t("customerID"))+"\n      ")]),e("q-input",{staticClass:"col-sm-10 col-xs-9",attrs:{readonly:""},model:{value:s.profile.ID,callback:function(t){s.$set(s.profile,"ID",t)},expression:"profile.ID"}}),e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n        "+s._s(s.$t("firstname"))+"\n      ")]),e("q-input",{staticClass:"col-sm-10 col-xs-9",attrs:{readonly:""},model:{value:s.profile.firstName,callback:function(t){s.$set(s.profile,"firstName",t)},expression:"profile.firstName"}}),e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n        "+s._s(s.$t("lastname"))+"\n      ")]),e("q-input",{staticClass:"col-sm-10 col-xs-9",attrs:{readonly:""},model:{value:s.profile.lastName,callback:function(t){s.$set(s.profile,"lastName",t)},expression:"profile.lastName"}}),e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n        "+s._s(s.$t("street"))+"\n      ")]),e("q-input",{staticClass:"col-sm-10 col-xs-9",on:{input:s.updateProfileData},model:{value:s.street,callback:function(t){s.street=t},expression:"street"}}),e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n        "+s._s(s.$t("housenumber"))+"\n      ")]),e("q-input",{staticClass:"col-sm-10 col-xs-9",on:{input:s.updateProfileData},model:{value:s.houseNumber,callback:function(t){s.houseNumber=t},expression:"houseNumber"}}),e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n        "+s._s(s.$t("postalCode"))+"\n      ")]),e("q-input",{staticClass:"col-sm-10 col-xs-9",on:{input:s.updateProfileData},model:{value:s.postalCode,callback:function(t){s.postalCode=t},expression:"postalCode"}}),e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v(s._s(s.$t("city")))]),e("q-input",{staticClass:"col-sm-10 col-xs-9",on:{input:s.updateProfileData},model:{value:s.city,callback:function(t){s.city=t},expression:"city"}})],1),e("form",{staticClass:"q-pt-lg",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),s.onSubmit(t)}}},[e("div",{staticClass:"col-sm-2 col-xs-3 text-left text-h6 "},[s._v("\n        "+s._s(s.$t("changePassword"))+"\n      ")]),e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n          "+s._s(s.$t("oldPassword"))+"\n        ")]),e("q-input",{ref:"oldPassword",staticClass:"col-sm-10 col-xs-9",attrs:{type:"password","lazy-rules":"",rules:[function(t){return t&&t.length>0||s.$t("pleaseEnter")}]},model:{value:s.oldPassword,callback:function(t){s.oldPassword=t},expression:"oldPassword"}}),e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n          "+s._s(s.$t("newPassword"))+"\n        ")]),e("q-input",{ref:"newPassword",staticClass:"col-sm-10 col-xs-9",attrs:{type:"password","lazy-rules":"",rules:[function(t){return t&&t.length>0||s.$t("pleaseEnter")}]},model:{value:s.newPassword,callback:function(t){s.newPassword=t},expression:"newPassword"}}),e("div",{staticClass:"col-sm-2 col-xs-3 text-left q-px-md"},[s._v("\n          "+s._s(s.$t("repeatNewPassword"))+"\n        ")]),e("q-input",{ref:"repeateNewPassword",staticClass:"col-sm-10 col-xs-9",attrs:{type:"password","lazy-rules":"",rules:[function(t){return t&&t.length>0||s.$t("pleaseEnter")}]},model:{value:s.repeateNewPassword,callback:function(t){s.repeateNewPassword=t},expression:"repeateNewPassword"}}),e("div",{staticClass:"full-width text-center"},[e("q-btn",{attrs:{type:"submit",unelevated:"","no-caps":"",size:"lg",color:"primary",label:s.$t("changePassword")}})],1)],1)])]):s._e()])},o=[],r={components:{},computed:{getImageURL(){switch(this.profile.gender){case"m":return"https://cdn.quasar.dev/img/boy-avatar.png";case"f":return"https://cdn.quasar.dev/img/avatar.png";case"x":return"https://www.humanium.org/es/wp-content/uploads/2016/03/shutterstock_304512785-300x300.jpg";default:return"https://cdn.quasar.dev/img/boy-avatar.png"}},street:{get(){return this.$store.state.user.street},set(s){this.$store.commit("user/updateStreet",s)}},houseNumber:{get(){return this.$store.state.user.houseNumber},set(s){this.$store.commit("user/updateHouseNumber",s)}},postalCode:{get(){return this.$store.state.user.postalCode},set(s){this.$store.commit("user/updatePostalCode",s)}},city:{get(){return this.$store.state.user.city},set(s){this.$store.commit("user/updateCity",s)}}},data(){return{oldPassword:null,newPassword:null,repeateNewPassword:null,profile:this.$store.state.user}},methods:{updateProfileData(){this.$axios.put(`updateAdressDataOfUser?email=${this.profile.email}&hashedPassword=${this.profile.passwordHash}&strasse=${this.profile.street}&hausnummer=${this.profile.houseNumber}&postleitzahl=${this.profile.postalCode}&ort=${this.profile.city}`).then((s=>{var t=s.data;if(t.success){var e=this.$store.state.user;this.$store.state.settings.acceptedCookie&&this.$q.cookies.set("cookie_moonStonks_user",e,{expires:10})}else console.log(t)}))},onSubmit(){this.$refs.oldPassword.validate(),this.$refs.newPassword.validate(),this.$refs.repeateNewPassword.validate(),this.$refs.oldPassword.hasError||this.$refs.newPassword.hasError||this.$refs.repeateNewPassword.hasError?this.formHasError=!0:this.newPassword!==this.repeateNewPassword?(this.formHasError=!0,this.$q.notify({color:"negative",message:this.$t("passwordNotEqual")+"!"})):this.changePassword()},changePassword(){this.$axios.put(`updatePasswordOfUser?email=${this.profile.email}&oldPassword=${this.oldPassword}&newPassword=${this.newPassword}`).then((s=>{var t=s.data;if(t.success){var e=t.additionalInfo.newPasswordHash;this.$store.commit("user/updatePasswordHash",e);var a=this.$store.state.user;this.$store.state.settings.acceptedCookie&&this.$q.cookies.set("cookie_moonStonks_user",a,{expires:10}),this.$q.notify({color:"positive",message:this.$t("successfulPasswordChange")})}else t.success?console.log(t):this.$q.notify({color:"negative",message:this.$t("failedPasswordChange")})}))}}},l=r,i=e("2877"),n=e("9989"),c=e("cb32"),d=e("27f9"),u=e("9c40"),p=e("eebe"),m=e.n(p),f=Object(i["a"])(l,a,o,!1,null,null,null);t["default"]=f.exports;m()(f,"components",{QPage:n["a"],QAvatar:c["a"],QInput:d["a"],QBtn:u["a"]})}}]);