(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"71fc":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col q-my-md q-pa-sm shadow-3 rounded-borders",class:t.transaction.Betrag<=0?"bg-red":"bg-green"},[a("div",{staticClass:"row no-wrap items-center",staticStyle:{"font-size":"20px"}},[a("div",{staticClass:"col"},[t._v(t._s(t.description))]),a("q-space"),a("div",[t._v(t._s(t.costs)+" €")])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"text-caption text-bold"},[t._v("\n      "+t._s(t.formattedDate)+"\n    ")]),a("q-space"),t.isShareBuyOrSell?t._e():a("div",{staticClass:"text-caption"},[t._v("\n      "+t._s(t.destination)+" "+t._s(t.transaction.Zielkonto)+"\n    ")]),t.isShareBuyOrSell?a("div",{staticClass:"text-caption"},[t._v("\n      "+t._s(t.$t("amount"))+": "+t._s(t.shareAmount)+"\n    ")]):t._e()],1)])},r=[],i=(a("5319"),{name:"TransactionEntry",props:{transaction:{type:Object,required:!0}},data(){return{stockName:null}},created(){""!==this.stockID&&this.stockID&&this.loadShareData()},computed:{formattedDate(){switch(this.$store.state.settings.language){case"de-de":return new Date(this.transaction.Datum).toLocaleDateString("de-de");case"en-gb":return new Date(this.transaction.Datum).toLocaleDateString("en-gb");default:return new Date(this.transaction.Datum).toLocaleDateString("de-de")}},costs(){return Number(this.transaction.Betrag).toFixed(2)},description(){var t=this.transaction.Beschreibung;switch(t){case"Einzahlung":return this.$t("deposit");case"Auszahlung":return this.$t("withdrawal")}t.split(":");return t.includes("Aktienkauf")?this.$t("shareBuy")+": "+(this.stockName?this.stockName:""):t.includes("Aktienverkauf")?this.$t("shareSell")+": "+(this.stockName?this.stockName:""):""},isShareBuyOrSell(){return!!this.transaction.Beschreibung.includes("Aktien")},destination(){return this.transaction.Beschreibung.includes("Einzahlung")?this.$t("fromDestination")+": ":this.transaction.Beschreibung.includes("Auszahlung")?this.$t("toDestination")+": ":""},shareAmount(){if(this.transaction.Beschreibung.includes("Aktien")){let t=this.transaction.Beschreibung.split(":");return t[2]}return""},stockID(){if(this.transaction.Beschreibung.includes("Aktien")){let t=this.transaction.Beschreibung.split(": "),e=t[1].replace(" Anzahl","");return e}return""}},methods:{loadShareData(){this.$axios.get(`getShare?email=${this.$store.state.user.email}&hashedPassword=${this.$store.state.user.passwordHash}&shareID=${this.stockID}`).then((t=>{var e=t.data;e.success?this.stockName=e.data.name:console.log(e)}))}}}),n=i,o=a("2877"),l=a("2c91"),c=a("eebe"),d=a.n(c),p=Object(o["a"])(n,s,r,!1,null,null,null);e["a"]=p.exports;d()(p,"components",{QSpace:l["a"]})},bc13:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",{staticClass:"q-pa-md"},[t.depotData.balance?a("div",{staticClass:"col q-ma-xs full-width no-wrap items-center"},[a("div",{staticClass:"row text-weight-bolder items-center",staticStyle:{"font-size":"24px"}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"insights"}}),a("div",[a("div",[t._v(t._s(t.$t("depot")))]),a("div",{staticClass:"row text-caption",staticStyle:{"font-size":"16px"}},[t._v("\n            "+t._s(t.$t("depotID"))+":\n            "),a("div",{staticClass:"q-pl-xs"},[t._v(t._s(t.$store.state.user.depotID))])])]),a("q-space"),t._v("\n        "+t._s(t.depotBalance)+"\n      ")],1),t.depotData.positions?a("div",{staticClass:"col q-pt-sm"},[a("PieChart",{attrs:{depotData:t.depotData.positions}}),t._l(t.depotData.positions,(function(t){return a("DepotEntry",{key:t.ID,attrs:{stockData:t}})}))],2):t._e(),a("div",{staticClass:"row text-weight-bolder items-center no-wrap text-no-wrap",staticStyle:{"font-size":"24px"}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"account_balance_wallet"}}),a("div",[a("div",[t._v(t._s(t.$t("wallet")))]),a("div",{staticClass:"row text-caption",staticStyle:{"font-size":"16px"}},[t._v("\n            "+t._s(t.$store.state.user.IBAN)+"\n          ")])]),a("q-space"),t.walletData.balance?a("div",[t._v(t._s(t.walletBalance))]):t._e()],1),a("div",{staticClass:"q-pt-sm"},[t._v(t._s(t.$t("newestTransactions"))+" ...")]),t.walletData.transactions?a("div",t._l(t.walletData.transactions.slice(0,4),(function(t){return a("TransactionEntry",{key:t.TransaktionsID,attrs:{transaction:t}})})),1):t._e(),a("div",{staticClass:"row"},[a("q-space"),a("q-btn",{staticClass:"bg-dark",attrs:{"icon-right":"payments","rounded-borders":"","no-caps":"",label:t.$t("transfer")},on:{click:t.togglePopUpForTransfer}})],1),a("q-dialog",{model:{value:t.popUpForTransfer,callback:function(e){t.popUpForTransfer=e},expression:"popUpForTransfer"}},[a("q-card",{staticClass:"bg-dark",staticStyle:{width:"300px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("transfer")))])]),a("form",{staticClass:"q-px-sm",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmitTransfer(e)}}},[a("q-card-section",[a("q-input",{ref:"ISBN",attrs:{mask:"AA## #### #### #### #### ##",filled:"",label:t.$t("ISBN"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("pleaseEnter")}]},model:{value:t.toSendISBN,callback:function(e){t.toSendISBN=e},expression:"toSendISBN"}}),a("q-input",{ref:"Value",attrs:{type:"number",filled:"",suffix:"€",label:t.$t("value"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("pleaseEnter")}]},model:{value:t.transactionValue,callback:function(e){t.transactionValue=e},expression:"transactionValue"}}),a("q-input",{ref:"Password",attrs:{type:"password",filled:"",label:t.$t("password"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("pleaseEnter")}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("q-separator",{staticClass:"q-mx-sm"}),a("q-card-actions",{staticClass:"bg-dark",attrs:{align:"right"}},[a("q-btn",{attrs:{type:"submit",color:"primary","no-caps":"",label:t.$t("send")}})],1)],1)],1)],1),a("div",{staticClass:"row text-weight-bolder items-center",staticStyle:{"font-size":"24px"}},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:"menu_open"}}),a("div",[t._v(t._s(t.$t("openOrders")))])],1),t.orderData?a("div",t._l(t.orderData,(function(t){return a("OpenOrderEntry",{key:t.ID,attrs:{orderData:t}})})),1):t._e()],1):t._e()])])},r=[],i=a("71fc"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-item",{staticClass:"bg-dark shadow-3 rounded-borders q-my-md q-px-md q-py-xs",attrs:{clickable:"",to:t.link}},[a("div",{staticClass:"col "},[a("div",{staticClass:"row no-wrap items-center text-caption"},[a("div",{staticClass:"col"},[t._v(t._s(t.stockData.ISIN))])]),a("div",{staticClass:"row items-center full-width no-wrap"},[a("div",{staticClass:"text-uppercase",staticStyle:{"font-size":"18px"}},[t._v("\n        "+t._s(t.stockData.name)+"\n      ")]),a("q-space"),a("div",{staticClass:"text-bold",staticStyle:{"font-size":"22px"}},[t._v("\n        "+t._s(t.actualValueTotal)+" €\n      ")])],1),a("div",{staticClass:"row full-width"},[a("div",{staticClass:"col text-left"},[a("div",{staticClass:"text-caption"},[t._v(t._s(t.$t("pieces")))]),a("div",[t._v(t._s(t.stockData.count))])]),a("div",{staticClass:"col text-left"},[a("div",{staticClass:"text-caption"},[t._v(t._s(t.$t("buyPrice")))]),a("div",[t._v(t._s(t.avgBuyPrice)+" €")])]),a("div",{staticClass:"col text-left"},[a("div",{staticClass:"text-caption"},[t._v(t._s(t.$t("actualPrice")))]),a("div",[t._v(t._s(t.actualPrice)+" €")])]),a("div",{staticClass:"col text-right"},[a("div",{staticClass:"text-caption"},[t._v(t._s(t.$t("winOrLost")))]),a("div",{class:"text-"+t.winOrLostValueColor},[t._v("\n          "+t._s(t.winOrLostValue)+" €\n        ")])])])])])},o=[],l={name:"DepotEntry",props:{stockData:{type:Object,required:!0}},computed:{link(){return"order/Stock/ID="+this.stockData.ISIN},actualPrice(){return Number(this.stockData.currentValuePerPosition).toFixed(2)},actualValueTotal(){return Number(this.stockData.currentTotalValue).toFixed(2)},avgBuyPrice(){return Number(this.stockData.avgKaufpreis).toFixed(2)},winOrLostValue(){return Number(this.stockData.currentGain).toFixed(2)},winOrLostValueColor(){return 0===this.winOrLostValue?"grey":this.winOrLostValue>0?"green":"red"}},data(){return{}}},c=l,d=a("2877"),p=a("66e5"),u=a("2c91"),h=a("eebe"),v=a.n(h),m=Object(d["a"])(c,n,o,!1,null,null,null),f=m.exports;v()(m,"components",{QItem:p["a"],QSpace:u["a"]});var g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row no-wrap q-my-md q-pa-sm bg-dark shadow-3 rounded-borders items-center"},[a("q-icon",{attrs:{name:"schedule",size:"225%"}}),a("div",{staticClass:"row q-pl-xs items-center"},[a("div",{staticClass:"col q-pr-lg",staticStyle:{width:"250px"}},[a("div",{staticClass:"text-uppercase text-no-wrap"},[t._v("\n        "+t._s(t.orderData.name)+"\n      ")]),a("div",{staticClass:"text-caption text-no-wrap"},[t._v("WKN "+t._s(t.orderData.WKN))])]),a("div",{staticClass:"col q-pr-lg",staticStyle:{width:"150px"}},[a("div",{staticClass:"row no-wrap text-no-wrap"},[a("div",{staticClass:"q-pr-sm text-uppercase text-bold"},[t._v(t._s(t.orderMethod))]),a("div",{staticClass:"text-caption"},[t._v("\n          "+t._s(t.orderData.amount)+"\n          "+t._s(t.$t("pieces"))+"\n        ")])]),a("div",{staticClass:"row no-wrap text-no-wrap"},[a("div",{staticClass:"q-pr-sm text-caption"},[t._v(t._s(t.orderData.orderType)+":")]),a("div",{staticClass:"text-bold text-uppercase"},[t._v(t._s(t.orderData.price)+" €")])])]),a("div",{staticClass:"col text-center"},[t._v("\n      "+t._s(t.formattedDate)+"\n    ")])]),a("q-space"),a("q-btn",{attrs:{round:"",flat:"",icon:"cancel"},on:{click:t.toggleDeleteOrder}}),a("div",[a("q-dialog",{model:{value:t.popupForDelete,callback:function(e){t.popupForDelete=e},expression:"popupForDelete"}},[a("q-card",{staticClass:"bg-dark",staticStyle:{width:"300px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("removalOfOrder")))])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v("\n          "+t._s(t.$t("sureForDeleteOrder"))+"\n        ")]),a("q-separator",{staticClass:"q-mx-sm"}),a("q-card-actions",{staticClass:"bg-dark",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"red","no-caps":"",label:t.$t("deleteOrder")},on:{click:t.deleteOrder}})],1)],1)],1)],1)],1)},w=[],D={name:"OpenOrderEntry",props:{orderData:{type:Object,required:!0}},computed:{orderMethod(){return"Buy"===this.orderData.type?"buy":"sell"},formattedDate(){switch(this.$store.state.settings.language){case"de-de":return new Date(this.orderData.date).toLocaleDateString("de-de");case"en-gb":return new Date(this.orderData.date).toLocaleDateString("en-gb");default:return new Date(this.orderData.date).toLocaleDateString("de-de")}}},data(){return{popupForDelete:!1}},methods:{toggleDeleteOrder(){this.popupForDelete=!this.popupForDelete},deleteOrder(){}}},_=D,b=a("0016"),x=a("9c40"),C=a("24e8"),y=a("f09f"),$=a("a370"),q=a("eb85"),S=a("4b7e"),k=a("7f67"),O=Object(d["a"])(_,g,w,!1,null,null,null),B=O.exports;v()(O,"components",{QIcon:b["a"],QSpace:u["a"],QBtn:x["a"],QDialog:C["a"],QCard:y["a"],QCardSection:$["a"],QSeparator:q["a"],QCardActions:S["a"]}),v()(O,"directives",{ClosePopup:k["a"]});var I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"full-width bg-dark shadow-3 rounded-borders",staticStyle:{height:"350px"}},[a("IEcharts",{attrs:{option:t.barChartOption,resizable:!0}})],1)},N=[],T=a("ce44"),E={name:"StockChart",props:{depotData:{type:Array,required:!0}},data(){return{}},computed:{barChartOption(){return{tooltip:{trigger:"item"},legend:{top:"5%",left:"center",textStyle:{color:this.$q.dark.isActive?"#fff":"#000",fontFamily:"Arial",fontSize:15,fontWeight:"bolder"}},series:[{name:this.$t("value"),type:"pie",top:30,height:"350",data:this.formattedData,itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},label:{show:!1,position:"left"}}],textStyle:{textBorderColor:"#5470c6",fontFamily:"Arial",fontSize:15,fontWeight:"bolder"}}},formattedData(){var t=[];return this.depotData.forEach((e=>{let a={value:e.currentTotalValue,name:e.name};t.push(a)})),t}},components:{IEcharts:T["a"]}},A=E,F=Object(d["a"])(A,I,N,!1,null,null,null),V=F.exports,P={components:{TransactionEntry:i["a"],DepotEntry:f,OpenOrderEntry:B,PieChart:V},computed:{walletBalance(){return Number(this.walletData.balance).toFixed(2)},depotBalance(){return Number(this.depotData.balance).toFixed(2)}},watch:{},data(){return{walletData:[],depotData:[],orderData:[{ID:1,name:"Apple",WKN:"865985",type:"Sell",amount:4,orderType:"Limit",price:95,date:"2021-03-19T23:00:00.000Z"},{ID:2,name:"Plug Power",WKN:"A1JA81",type:"Buy",amount:4,orderType:"Limit",price:26,date:"2021-03-20T23:00:00.000Z"}],popUpForTransfer:!1,toSendISBN:"",transactionValue:null,password:"",formHasError:!0}},created(){this.getBalanceAndLastTransactionsOfVerrechnungskonto(),this.getDepotValues()},methods:{getBalanceAndLastTransactionsOfVerrechnungskonto(){this.$axios.get(`getBalanceAndLastTransactionsOfVerrechnungskonto?email=${this.$store.state.user.email}&hashedPassword=${this.$store.state.user.passwordHash}`).then((t=>{var e=t.data;e.success?this.walletData=e.data:console.log(e)}))},getDepotValues(){this.$axios.get(`getDepotValues?email=${this.$store.state.user.email}&hashedPassword=${this.$store.state.user.passwordHash}&depotID=${this.$store.state.user.depotID}`).then((t=>{var e=t.data;e.success?this.depotData=e.data:console.log(e)}))},togglePopUpForTransfer(){this.popUpForTransfer=!this.popUpForTransfer},doTransaction(){console.log(this.formHasError)},onSubmitTransfer(){this.$refs.ISBN.validate(),this.$refs.Value.validate(),this.$refs.Password.validate(),this.$refs.ISBN.hasError||this.$refs.Value.hasError||this.$refs.Password.hasError?this.formHasError=!0:this.doTransaction()}}},Q=P,z=a("9989"),L=a("27f9"),j=Object(d["a"])(Q,s,r,!1,null,null,null);e["default"]=j.exports;v()(j,"components",{QPage:z["a"],QIcon:b["a"],QSpace:u["a"],QBtn:x["a"],QDialog:C["a"],QCard:y["a"],QCardSection:$["a"],QInput:L["a"],QSeparator:q["a"],QCardActions:S["a"]})}}]);