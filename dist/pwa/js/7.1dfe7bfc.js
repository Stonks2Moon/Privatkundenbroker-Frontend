(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"013f":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("q-layout",[e("q-page-container",[e("q-page",{staticClass:"window-height window-width row justify-center items-center"},[e("div",{staticClass:"row"},[e("q-card",{staticClass:"shadow-20",staticStyle:{width:"325px",height:"500px"}},[e("q-card-section",{staticClass:"bg-primary"},[e("h4",{staticClass:"text-h5 q-my-md"},[s._v(s._s(s.$t("moonStonks")))]),e("div",{staticClass:"absolute-bottom-right q-pr-md",staticStyle:{transform:"translateY(50%)"}},[e("q-btn",{staticClass:"shadow-20",attrs:{fab:"",icon:"add",color:"primary",to:"register"}})],1)]),e("q-card-section",[e("q-form",{staticClass:"q-px-sm q-pt-xl"},[e("q-input",{attrs:{square:"",clearable:"",type:"email",label:s.$t("email")},scopedSlots:s._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:s.email,callback:function(t){s.email=t},expression:"email"}}),e("q-input",{attrs:{square:"",clearable:"",type:"password",label:s.$t("password")},scopedSlots:s._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:s.password,callback:function(t){s.password=t},expression:"password"}})],1)],1),e("q-card-actions",{staticClass:"q-px-lg"},[e("q-btn",{staticClass:"full-width",attrs:{unelevated:"",size:"lg",color:"primary",label:s.$t("login")},on:{click:s.loginTest}})],1),e("q-card-section",{staticClass:"text-center q-pa-sm"},[e("q-btn",{attrs:{"no-caps":"",flat:"",label:s.$t("forgotPassword")+"?",to:"passwordReset"}})],1)],1)],1)])],1)],1)},i=[],o={name:"Login",data(){return{email:"",username:"",password:""}},created(){var s=this.$q.cookies.get("cookie_moonStonks_user");s&&this.loginWithHash(s.email,s.passwordHash)},methods:{login(){this.email||this.password?this.$axios.get(`loginWithPassword?email=${this.email}&password=${this.password}`).then((s=>{var t=s.data;if(t.success){var e={email:this.email,passwordHash:t.additionalInfo.hashedPassword,firstName:t.additionalInfo.firstName,lastName:t.additionalInfo.lastName,gender:t.additionalInfo.gender,birthday:t.additionalInfo.birthday};if(this.$store.commit("user/save",e),this.$store.commit("user/authenticateUser",!0),this.$store.state.settings.acceptedCookie){var a={acceptedCookie:!0,darkMode:this.$q.dark.isActive,language:this.$i18n.locale};this.$q.cookies.set("cookie_moonStonks_settings",a,{expires:10}),this.$q.cookies.set("cookie_moonStonks_user",e,{expires:10})}this.$router.push({path:"/home"})}else this.$q.notify({color:"negative",message:t.message})})):this.$q.notify({color:"negative",message:this.$t("enterLoginData")})},loginTest(){var s={email:"meine@email.de",passwordHash:"hashedPassword",firstName:"Max",lastName:"Mustermann",gender:"m",birthday:"1999-03-30"};if(this.$store.commit("user/save",s),this.$store.commit("user/authenticateUser",!0),this.$store.state.settings.acceptedCookie){var t={acceptedCookie:!0,darkMode:this.$q.dark.isActive,language:this.$i18n.locale};this.$q.cookies.set("cookie_moonStonks_settings",t,{expires:10}),this.$q.cookies.set("cookie_moonStonks_user",s,{expires:10})}this.$router.push({path:"/home"})},loginWithHash(s,t){this.$axios.get(`loginWithPasswordHash?email=${s}&hashedPassword=${t}`).then((e=>{var a=e.data;if(a.success){var i={email:s,passwordHash:t,firstName:a.additionalInfo.firstName,lastName:a.additionalInfo.lastName,gender:a.additionalInfo.gender,birthday:a.additionalInfo.birthday};if(this.$store.commit("user/save",i),this.$store.commit("user/authenticateUser",!0),this.$store.state.settings.acceptedCookie){var o=this.$store.state.settings;this.$q.cookies.set("cookie_moonStonks_settings",o,{expires:10}),this.$q.cookies.set("cookie_moonStonks_user",i,{expires:10})}this.$router.push({path:"/home"})}else console.log(a)}))}}},r=o,n=e("2877"),l=e("4d5a"),c=e("09e3"),d=e("9989"),h=e("f09f"),m=e("a370"),p=e("9c40"),u=e("0378"),g=e("27f9"),f=e("0016"),k=e("4b7e"),$=e("eebe"),w=e.n($),q=Object(n["a"])(r,a,i,!1,null,null,null);t["default"]=q.exports;w()(q,"components",{QLayout:l["a"],QPageContainer:c["a"],QPage:d["a"],QCard:h["a"],QCardSection:m["a"],QBtn:p["a"],QForm:u["a"],QInput:g["a"],QIcon:f["a"],QCardActions:k["a"]})}}]);